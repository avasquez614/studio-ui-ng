<div class="view-container">
  <std-view-title-bar
    i18n-title
    title="Projects"
    icon="fa fa-laptop">
    <button mat-icon-button (click)="load()"
            [attr.aria-label]="'Refresh Projects' | i18n">
      <mat-icon class="" aria-hidden="true">refresh</mat-icon>
    </button>
    <button class="green background"
            mat-mini-fab [routerLink]="['/projects/create']"
            [attr.aria-label]="'Create Project' | i18n">
      <mat-icon class="white text" aria-hidden="true">add</mat-icon>
    </button>
  </std-view-title-bar>
  <ng-container [ngSwitch]="loading$ | async">

    <div class="relative position flex grow full height" *ngSwitchCase="true">
      <std-spinner class="absolute position opaque cover">
        Loading Projects&hellip;
      </std-spinner>
    </div>

    <div class="content pad" *ngSwitchCase="false">

      <div class="ui centered cards">
        <div class="ui card"
             *ngFor="let project of projects">
          <div class="image">
            <img src="http://placehold.it/800?text={{project.name}}">
          </div>
          <div class="content">
            <a class="header">{{project.name}}</a>
            <div class="meta">
              <span class="date">Created on 2013</span>
            </div>
            <div class="description">
              {{project.description}}
            </div>
          </div>
          <div class="extra content">
            <button mat-icon-button [routerLink]="['/project', project.code, 'dashboard']">
              <i class="fa fa-tachometer"></i>
            </button>
            <button mat-icon-button (click)="browse(project.code)">
              <i class="fa fa-binoculars"></i>
            </button>
            <button mat-icon-button [routerLink]="['/projects', project.code]">
              <i class="fa fa-pencil"></i>
            </button>
          </div>
        </div>
      </div>

      <mat-paginator (page)="pageChanged($event)"
                     [length]="totalNumOfProjects"
                     [pageIndex]="(pager$ | async).pageIndex"
                     [pageSize]="(pager$ | async).pageSize"
                     [pageSizeOptions]="pageSizeOptions">
      </mat-paginator>

    </div>

  </ng-container>
</div>
